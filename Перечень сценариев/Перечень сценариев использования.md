## Перечень сценариев использования (Use Case)


| № | Наименование | Домен | Роли | Связанные сценарии | Требования | Элемент Бэклога | Сервис | Статус |
|---|--------------|-------|------|-------------------|------------|-----------------|--------|--------|
| 1 | UC-001 <br> Поиск товаров | `Каталог` | `ROLE_CUSTOMER` | — | FR-101: Полноценный поиск по названию/описанию/артикулу; NFR-201: Время ответа ≤ 200 мс при 10М товаров | - | catalog-service | В разработке |
| 2 | UC-002 <br> Фильтрация по категориям | `Каталог` |`ROLE_CUSTOMER` | — | FR-102: Фильтрация по иерархии категорий; FR-103: Множественная фильтрация по атрибутам; NFR-202: Поддержка 10К+ фильтров | - | catalog-service | В разработке |
| 3 | UC-003 <br> Просмотр карточки товара | `Каталог` | `ROLE_CUSTOMER` | — | FR-104: Отображение полной информации о товаре; FR-105: Просмотр отзывов и рейтинга; NFR-203: Загрузка карточки ≤ 1.5 с | - | product-service <br> review-service | В разработке |
| 4 | UC-004 <br> Формирование корзины | `Заказы` | `ROLE_CUSTOMER` | `<<include>>` → UC-005 | FR-106: Добавление/удаление товаров в корзину; FR-107: Сохранение корзины между сессиями; NFR-204: Синхронизация корзины на 3+ устройствах | - | cart-service | В разработке |
| 5 | UC-005 <br> Оформление заказа | `Заказы` | `ROLE_CUSTOMER` | `<<include>>` UC-004 → `<<include>>` → UC-007 | FR-108: Валидация данных получателя; FR-109: Выбор пункта выдачи; NFR-205: Создание заказа ≤ 3 с | - | order-service | В разработке |
| 6 | UC-006 <br> Выбор способа доставки | `Заказы` | `ROLE_CUSTOMER` | — | FR-110: Отображение доступных способов доставки; FR-111: Расчет стоимости и сроков; NFR-206: Обновление стоимости доставки в реальном времени | - | delivery-service | В разработке |
| 7 | UC-007 <br> Оплата заказа | `Заказы` | `ROLE_CUSTOMER` <br> `ROLE_SUPPORT_AGENT` | `<<include>>` UC-005; `<<extend>>` ← ROLE_SUPPORT_AGENT | FR-112: Интеграция с 5+ платежными системами; FR-113: Сохранение статуса оплаты; NFR-207: Обработка платежа ≤ 5 с; NFR-208: PCI DSS compliance | - | payment-service | В разработке |
| 8 | UC-008 <br> Отмена заказа | `Заказы` | `ROLE_CUSTOMER` | `<<extend>>` → UC-033 | FR-114: Отмена до передачи в логистику; FR-115: Автоматический возврат средств; NFR-209: Обработка отмены ≤ 10 с | - | order-service <br> refund-service | В разработке |
| 9 | UC-009 <br> Регистрация продавца | `Продавцы` | `ROLE_SELLER` <br> `ROLE_SELLER_MANAGER` | — | FR-116: Верификация ИНН/паспорта; FR-117: Создание личного кабинета; NFR-210: Время верификации ≤ 24 ч | - | seller-service <br> verification-service` | В разработке |
| 10 | UC-010 <br> Загрузка товаров | `Продавцы` | `ROLE_SELLER` | `<<include>>` → UC-019 | FR-118: Импорт через Excel/API; FR-119: Поддержка моделей FBO/FBS; NFR-211: Обработка 10К+ товаров за загрузку | - | product-service <br> seller-api | В разработке |
| 11 | UC-011 <br> Управление остатками | `Продавцы`| `ROLE_SELLER` | — | FR-120: Отображение текущих остатков; FR-121: Резервирование при заказе; NFR-212: Синхронизация остатков ≤ 5 с | - | inventory-service | В разработке |
| 12 | UC-012 <br> Установка цен и скидок | `Продавцы` | `ROLE_SELLER` | — | FR-122: Массовое изменение цен; FR-123: Настройка временных скидок; NFR-213: Применение скидок к заказу ≤ 100 мс | - | pricing-service | В разработке |
| 13 | UC-013 <br> Вывод средств | `Финансы` | `ROLE_SELLER` | `<<extend>>` → UC-033 | FR-124: Вывод на расчетный счет; FR-125: Отображение истории выплат; NFR-214: Обработка вывода ≤ 24 ч; NFR-215: Соответствие 115-ФЗ | - | payout-service | В разработке |
| 14 | UC-014 <br> Приемка товаров на склад | `Логистика` | `ROLE_WAREHOUSE_OPERATOR` | — | FR-126: Сканирование штрихкодов; FR-127: Фиксация брака при приемке; NFR-216: Обработка 100+ посылок/час/оператор | - | warehouse-service | В разработке |
| 15 | UC-015 <br> Комплектация заказа | `Логистика` | `ROLE_WAREHOUSE_OPERATOR` | — | FR-128: Генерация листа комплектации; FR-129: Маркировка посылки; NFR-217: Среднее время комплектации ≤ 3 мин/заказ | - | warehouse-service | В разработке |
| 16 | UC-016 <br> Передача курьеру | `Логистика` | `ROLE_WAREHOUSE_OPERATOR` <br> `ROLE_COURIER` | — | FR-130: Формирование маршрутного листа; FR-131: Подтверждение передачи сканом; NFR-218: Обработка 50+ передач/смена | - | delivery-service | В разработке |
| 17 | UC-017 <br> Подтверждение доставки | `Логистика` | `ROLE_COURIER` | — | FR-132: Фотоподтверждение доставки; FR-133: ЭЦП получателя; NFR-219: Синхронизация статуса доставки ≤ 30 с | - | delivery-service | В разработке |
| 18 | UC-018 <br> Обработка возвратов | `Логистика` | `ROLE_WAREHOUSE_OPERATOR` <br> `ROLE_SUPPORT_AGENT` | `<<include>>` → UC-020 | FR-134: Прием возвратов в ПВЗ/на складе; FR-135: Проверка состояния товара; NFR-220: Обработка возврата ≤ 5 раб. дней | - | `return-service <br> warehouse-service | В разработке |
| 19 | UC-019 <br> Модерация карточек товаров | `Модерация` | `ROLE_MODERATOR` | `<<include>>` ← UC-010 | FR-136: Проверка на запрещенный контент; FR-137: Валидация соответствия описания фото; NFR-221: Модерация 95% товаров ≤ 24 ч | - | moderation-service | В разработке |
| 20 | UC-020 <br> Модерация отзывов | `Модерация` | `ROLE_MODERATOR` | `<<include>>` ← UC-018 | FR-138: Фильтрация спама и оскорблений; FR-139: Проверка подлинности покупки; NFR-222: Модерация 99% отзывов ≤ 2 ч | - | moderation-service <br> review-service | В разработке |
| 21 | UC-021 <br> Управление категориями | `Категории` | `ROLE_CATEGORY_MANAGER` | — | FR-140: Создание/редактирование категорий; FR-141: Настройка атрибутов категории; NFR-223: Поддержка 5 уровней вложенности | - | category-service | В разработке |
| 22 | UC-022 <br> Валидация характеристик | `Категории` | `ROLE_CATEGORY_MANAGER` | — | FR-142: Валидация единиц измерения; FR-143: Проверка обязательных атрибутов; NFR-224: Валидация при загрузке ≤ 1 с/товар | - | category-service <br> product-service | В разработке |
| 23 | UC-023 <br> Формирование отчетов продаж | `Аналитика` | `ROLE_ANALYST` | `<<include>>` → UC-026 | FR-144: Генерация отчетов по периодам; FR-145: Экспорт в Excel/PDF; NFR-225: Формирование отчета за месяц ≤ 30 с | - | analytics-service | В разработке |
| 24 | UC-024 <br> Расчет комиссий | `Финансы` | `ROLE_FINANCE_OPERATOR` | — | FR-146: Расчет по тарифной сетке; FR-147: Учет логистических расходов; NFR-226: Расчет комиссии ≤ 100 мс/заказ | - | commission-service | В разработке |
| 25 | UC-025 <br> Начисление вознаграждений | `Финансы` | `ROLE_FINANCE_OPERATOR` | — | FR-148: Начисление бонусов за объем; FR-149: Учет промо-акций; NFR-227: Ежедневное начисление ≤ 1 ч | - | payout-service | В разработке |
| 26 | UC-026 <br> Финансовая сверка | `Финансы` | `ROLE_FINANCE_OPERATOR` <br> `ROLE_ANALYST` <br> `ROLE_AUDITOR` | `<<include>>` ← UC-023 | FR-150: Сверка с платежными системами; FR-151: Формирование актов; NFR-228: Сверка за сутки ≤ 2 ч; NFR-229: Сохранение аудит-лога 7+ лет | - | reconciliation-service | В разработке |
| 27 | UC-027 <br> Создание промо-акций | `Маркетинг` | `ROLE_MARKETER` <br> `ROLE_MARKETPLACE_ADMIN` | — | FR-152: Настройка условий акции; FR-153: Ограничение по категориям; NFR-230: Применение акции к заказу ≤ 50 мс | - | promotion-service | В разработке |
| 28 | UC-028 <br> Управление баннерами | `Маркетинг` | `ROLE_MARKETER` | — | FR-154: A/B тестирование баннеров; FR-155: Таргетинг по сегментам; NFR-231: Загрузка баннера ≤ 500 мс | - | content-service | В разработке |
| 29 | UC-029 <br> Таргетированные рассылки | `Маркетинг` | `ROLE_MARKETER` | — | FR-156: Сегментация по поведению; FR-157: Шаблоны писем; NFR-232: Доставка 1М писем ≤ 1 ч | - | notification-service | В разработке |
| 30 | UC-030 <br> Управление ролями и доступом | `Администрирование` | `ROLE_MARKETPLACE_ADMIN` <br> `ROLE_SYSTEM_ADMIN` | — | FR-158: RBAC с 14+ ролями; FR-159: Аудит изменений прав; NFR-233: Проверка прав доступа ≤ 10 мс | - | auth-service <br> iam-service` | В разработке |
| 31 | UC-031 <br> Мониторинг системы | `Администрирование` | `ROLE_SYSTEM_ADMIN` | — | FR-160: Мониторинг метрик; FR-161: Алертинг при превышении порогов; NFR-234: Сбор метрик с задержкой ≤ 15 с | - | monitoring-service | В разработке |
| 32 | UC-032 <br> Аудит операций | `Аудит` | `ROLE_AUDITOR` | — | FR-162: Логирование критических операций; FR-163: Поиск по аудит-логу; NFR-235: Хранение логов 7+ лет; NFR-236: GDPR compliance | - | audit-service | В разработке |
| 33 | UC-033 <br> Обработка споров | `Поддержка` | `ROLE_SUPPORT_AGENT` <br> `ROLE_SELLER_MANAGER` <br> `ROLE_MARKETPLACE_ADMIN` | `<<extend>>` ← UC-008, UC-013 | FR-164: Трехуровневая эскалация; FR-165: Прикрепление доказательств; NFR-237: Решение 90% споров ≤ 3 раб. дня | - | dispute-servic <br> support-service` | В разработке |
